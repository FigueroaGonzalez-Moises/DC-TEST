(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[4],{121:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var c=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,e="",n=crypto.getRandomValues(new Uint8Array(t));t--;){var c=63&n[t];e+=c<36?c.toString(36):c<62?(c-26).toString(36).toUpperCase():c<63?"_":"-"}return e}},122:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return s}));var c=function(t){return{type:"ADD_PRODUCT_TO_CART",product:t}},i=function(){return{type:"RESET_CART"}},s=function(t,e){return{type:"CHANGE_QUANTITY_ON_PRODUCT",newQuantity:t,productIndex:e}}},123:function(t,e,n){},131:function(t,e,n){"use strict";n.r(e);var c=n(4),i=n(42),s=n(71),r=n(1),o=n(72),a=n(122),d=(n(123),n(121)),u=n(47),l=n(45),j=n(44),p=n(2),b=function(){return Object(p.jsxs)("div",{id:"cart-delete-btn",onClick:function(){var t=document.getElementById("cart-delete-btn"),e=document.getElementById("delete-span");t.classList.contains("confirm")?(t.classList.add("done"),e.innerText="Are you sure?"):(t.classList.add("confirm"),e.innerText="Are you sure?")},onMouseOut:function(){var t=document.getElementById("cart-delete-btn"),e=document.getElementById("delete-span");(t.classList.contains("confirm")||t.classList.contains("done"))&&setTimeout((function(){t.classList.remove("confirm"),t.classList.remove("done"),e.innerText="Delete"}),8e3)},children:[Object(p.jsxs)("div",{className:"icon",children:[Object(p.jsx)(j.a,{className:"fa",icon:l.f}),Object(p.jsx)(j.a,{className:"fa fa-question",icon:l.c}),Object(p.jsx)(j.a,{className:"fa fa-check",icon:l.b})]}),Object(p.jsx)("div",{className:"text",children:Object(p.jsx)("span",{id:"delete-span",children:"Delete"})})]})};e.default=function(){for(var t=Object(o.c)((function(t){return t.productsInCart}))||[],e=[],n=Object(o.b)(),l=Object(r.useState)(0),j=Object(i.a)(l,2),g=j[0],f=j[1],h=Object(r.useState)({refresh:!1,quantities:[]}),m=Object(i.a)(h,2),O=m[0],x=m[1],y=0;y<t.length;y++){for(var v=!0,B=0;B<e.length;B++)e[B]===t[y].product_id&&(v=!1);v&&e.push(t[y].product_id)}var I=JSON.stringify(e),_=Object(s.a)({variables:{products_str:I}}),P=_.data,N=_.loading,q=_.error;if(Object(r.useEffect)((function(){if(t){for(var e=0,n=0;n<t.length;n++){var c=t[n];c.option&&0!==c.option.length?O.quantities[n]?e+=t[n].option_price*O.quantities[n]:e+=t[n].option_price*t[n].quantity:O.quantities[n]?e+=t[n].price*O.quantities[n]:e+=t[n].price*t[n].quantity}f(e)}})),N)return Object(p.jsx)(p.Fragment,{});if(q)return n(Object(a.c)()),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(p.jsxs)("h2",{style:{fontWeight:550},children:["OOPS! This is embarrasing \u2299_\u2299"," "]})}),Object(p.jsx)("div",{style:{marginLeft:"5%",width:"85%",borderBottom:" 4px solid #ff0000"}}),Object(p.jsx)("h2",{style:{textAlign:"center"},children:"An error occured"}),Object(p.jsxs)("p",{style:{textAlign:"center"},children:[Object(p.jsx)("strong",{style:{color:"#ff0000"},children:"-"})," Please try again later. If error persist contact us via instagram or email."]})]});if(!t||0===t.length)return Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{style:{textAlign:"center"},children:"Your Shopping Cart Is Empty!"}),Object(p.jsx)("a",{href:"#/products",children:Object(p.jsx)("h4",{style:{textAlign:"center",marginBottom:"16px"},children:"Click me to start shopping \u0295 \u25d5\u1d25\u25d5 \u0294"})})]});if(P)for(var A=0;A<t.length;A++)for(var k=0;k<P.getProductsByIds.length;k++)if(t[A].product_id===P.getProductsByIds[k].product_id)if(t[A].option){if(P.getProductsByIds[k]&&P.getProductsByIds[k].options)for(var C=0;C<P.getProductsByIds[k].options.length;C++)t[A].option_id===P.getProductsByIds[k].options[C].option_id&&t[A].quantity>P.getProductsByIds[k].options[C].stock&&n(Object(a.b)(P.getProductsByIds[k].options[C].stock,A))}else t[A].quantity>P.getProductsByIds[k].stock&&(t[A].name=P.getProductsByIds[k].name,t[A].price=P.getProductsByIds[k].price,t[A].quantity=P.getProductsByIds[k].stock,n(Object(a.b)(P.getProductsByIds[k].stock,A)));return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{style:{textAlign:"center"},children:"Cart"}),Object(p.jsxs)("p",{style:{textAlign:"center"},children:["Subtotal($",Number(g/100).toFixed(2),")"]}),Object(p.jsx)("div",{style:{width:" 70%",marginLeft:"15%",marginBottom:"20px",borderBottom:"4px solid #eb8ab6"}}),Object(p.jsxs)(p.Fragment,{children:[t.map((function(e,i){var s=Object(d.a)();return Object(p.jsx)("div",{className:"product-container",children:Object(p.jsxs)("div",{id:"product-".concat(s),className:"cart-product product-".concat(s),children:[Object(p.jsx)("span",{children:Object(p.jsx)("img",{className:"product-image",alt:"product",src:e.images[0].img_url})}),Object(p.jsx)("span",{style:{textAlign:"center"},children:Object(p.jsxs)("h5",{className:"product-name",children:[e.name," ",Object(p.jsxs)("span",{className:"show-on-small",children:["$",e.option_price?Object(p.jsx)(p.Fragment,{children:Number(e.option_price/100).toFixed(2)}):Object(p.jsx)(p.Fragment,{children:Number(t.price/100).toFixed(2)})]})," ",t[i].option?Object(p.jsxs)("span",{style:{fontWeight:"bold"},children:["(",t[i].option,")"]}):Object(p.jsx)(p.Fragment,{})]})}),Object(p.jsx)("span",{children:Object(p.jsx)("input",{type:"text",value:O.quantities[i]||0===O.quantities[i]?O.quantities[i]:t[i].quantity,minLength:0,maxLength:2,pattern:"\\D",onBlur:function(t){if(console.log("blured"),n(Object(a.b)(Number(t.target.value),i)),"0"===t.target.value){var e=O.quantities;e.splice(i,1),Object(u.a)({duration:400,targets:".product-".concat(i),easing:"easeOutExpo",opacity:{value:[1,0],easing:"linear"},complete:function(){x(Object(c.a)(Object(c.a)({},O),{},{quantities:e,refresh:!O.refresh})),document.getElementById("product-".concat(i))&&(document.getElementById("product-".concat(i)).style.opacity="1")}})}},onChange:function(e){var n=O.quantities;if(e.target.value||(n[i]=0,x(Object(c.a)(Object(c.a)({},O),{},{quantities:n}))),e.target.value.match(/\d/g)){for(var s=!0,r=0;r<P.getProductsByIds.length;r++)if((null===P||void 0===P?void 0:P.getProductsByIds[r].options)&&(null===P||void 0===P?void 0:P.getProductsByIds[r].product_id)===t[i].product_id)for(var o=0;o<(null===P||void 0===P?void 0:P.getProductsByIds[r].options.length);o++)if(t[i].option_id===(null===P||void 0===P?void 0:P.getProductsByIds[r].options[o].option_id)&&Number(e.target.value)>(null===P||void 0===P?void 0:P.getProductsByIds[r].options[o].stock)){s=!1,n[i]=Number(null===P||void 0===P?void 0:P.getProductsByIds[r].options[o].stock),x(Object(c.a)(Object(c.a)({},O),{},{quantities:n}));break}s&&(n[i]=Number(e.target.value),x(Object(c.a)(Object(c.a)({},O),{},{quantities:n})))}},style:{textAlign:"center",border:"1px solid #000",height:"56px",width:"56px"}})}),Object(p.jsx)("span",{className:"hide-on-small",children:Object(p.jsx)(b,{})})]},s)})})),Object(p.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"40px"},children:Object(p.jsx)("a",{className:"checkout-btn",href:"#/checkout",children:"checkout"})})]})]})}}}]);
//# sourceMappingURL=4.bc7af3f0.chunk.js.map